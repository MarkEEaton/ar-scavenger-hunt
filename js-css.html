<!-- to be included in the "Group Custom JS/CSS" section -->

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz" crossorigin="anonymous"></script>

<style>
#arjsDebugUIContainer { display: none; }
body { margin: auto !important; max-width: 100vw !important; }
#startend-container { max-height: 100%; max-width: 100%; padding: 20px; margin: auto; display: flex; justify-content: center; align-items: center; clear: both; }
#starter { background-color: #ccc; border-radius: 5px; padding: 30px; font-size: 2em; text-align: center; }
@media screen and (orientation: portrait) {
  #starter { font-size: 2.2em; }
}
#ender { display: none; background-color: #ccc; border-radius: 5px; padding: 30px; font-size: 2em; text-align: center; position: relative; }

#header-container { width: 100%; z-index: 50; }
#header { width: 100vw; margin: 0 auto; text-align: left; padding: 5px; }
@media screen and (orientation: landscape) {
  #header-container { max-height: 100vh; max-width: 100vw; }
  #header { text-align: left; margin: auto auto; }
  body { margin-top: 0 !important; }
}
.dropdown { float: left; z-index: 50; }
.dropdown-menu li { font-size: 2em; padding: 2px 20px; }
.dropdown-menu li { white-space: nowrap; }
#fsize { font-size: 2em; }
</style>

<script src="https://aframe.io/releases/1.4.0/aframe.min.js"></script>
<script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>

<script>
function getStarted() {
  document.getElementById("starter").style.display = "none";
}

window.onload = function () {
  let startlistener = document.getElementById("startbutton");
  startlistener.addEventListener("click", getStarted);
}
</script>

<script>
AFRAME.registerComponent('markerhandler', {
  init: function () {
    this.markers = { reference: false, circulation: false, photocopier: false }
    document.querySelector("#anchorzero").addEventListener('markerFound', () => {
      this.markers.reference = true;
      document.querySelector('#goalzero').innerHTML = "Reference Desk ✔";
      this.check(this.markers);
    });
    document.querySelector("#anchorone").addEventListener('markerFound', () => {
      this.markers.circulation = true;
      document.querySelector('#goalone').innerHTML = "Circulation Desk ✔";
      this.check(this.markers);
    });
    document.querySelector("#anchortwo").addEventListener('markerFound', () => {
      this.markers.photocopier = true;
      document.querySelector('#goaltwo').innerHTML = "Photocopier/Scanner ✔";
      this.check(this.markers);
    });
  },
  check: function (markers) {
     if (Object.is(JSON.stringify(markers), JSON.stringify({ reference: true, circulation: true, photocopier: true })) == true) {
       document.getElementById("ender").style.display = "block";
    }
  },
});
</script>
